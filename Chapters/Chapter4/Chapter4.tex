% Chapter Template

\chapter{Powering circuit design} % Main chapter title
\label{Chapter4}
In this chapter, we will present some of the engineering challenges faced during the design of a power circuit for our flexible voice coil actuator.
We will mostly describe an ideal circuit as we will later demonstrate that running this actuator would require very advanced analog circuitry, comprised of high-cost components.
Most of the tests we will present have been done using a bench signal generator and amplifier.

%----------------------------------------------------------------------------------------
%	SECTION 1
%----------------------------------------------------------------------------------------
\input{Chapters/Chapter4/Power_Circuit_Block_diagram}
To design the power circuit for the flexible voice coil actuator, we started by analyzing the requirements of the actuator.
First of all, we want the coil to be driven with a sinusoidal AC signal at various frequencies and amplitudes; so the first component to consider it's the system's controller which in this case, can be a simple signal generator.
For our application, we chose a simple ESP32 microcontroller, which has an integrated DAC.
\bigskip

Then we have to consider the power requirements to run the chosen coil.
The impedance of a Flexar coil, as we discussed before, is in the order of 30$\Omega$.
The impedance of the coil is too low to be driven directly by the ESP32 DAC, so a power stage is needed.
For the sake of simplicity, we chose to implement a power stage with a fixed gain of 10.
\bigskip

Then we want the amplitude of the signal to be adjustable, so we need a conditioning circuit to adjust the amplitude of the signal coming from the DAC before being amplified.
\bigskip

The control circuit can be summarized as a block diagram, as shown in figure \ref{fig:Power_Circuit_Block_Diagram}.
\begin{figure}[H]
    \centering
    \resizebox{.9\linewidth}{!}{\includegraphics{Chapters/Chapter4/Figures/power_circuit_block_diagram.jpg}} % TODO: sostituire con svg
    \caption{Block diagram of the power circuit.}
    \label{fig:Power_Circuit_Block_Diagram}    
\end{figure}

%----------------------------------------------------------------------------------------
%	SECTION 2
%----------------------------------------------------------------------------------------
\input{Chapters/Chapter4/Controller}

%----------------------------------------------------------------------------------------
%	SECTION 3
%----------------------------------------------------------------------------------------
\input{Chapters/Chapter4/Signal_Conditioning_Circuit}

%----------------------------------------------------------------------------------------
%	SECTION 4
%----------------------------------------------------------------------------------------
\input{Chapters/Chapter4/Amplifier_Circuit}

% %----------------------------------------------------------------------------------------
% %	SECTION 5
% %----------------------------------------------------------------------------------------
% \input{Chapters/Chapter4/Power_Supply}

% %----------------------------------------------------------------------------------------
% %	SECTION 6
% %----------------------------------------------------------------------------------------
% \input{Chapters/Chapter4/Implementation_Problems_Other_Alternatives}
